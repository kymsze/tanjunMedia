"use strict";function typer(e,t){function n(e){return{}.toString.call(e).slice(8,-1)}function r(){["typer","cursor-block","cursor-soft","cursor-hard","no-cursor"].forEach(function(e){b.newDiv.classList.remove(e)})}function i(){b.dataNum=Math.floor(999999999*Math.random()+1),e.setAttribute("data-typer",b.dataNum)}function o(e,t){b.style=document.createElement("style"),b.style.appendChild(document.createTextNode("")),document.head.appendChild(b.style);var n=document.styleSheets[document.styleSheets.length-1];"insertRule"in n?n.insertRule(e+"{"+t+"}",0):n.addRule(e,t)}function c(e,t,r,i,o){var c={html:r!==!1&&i!==!1,elem:o};if("Number"===n(r)&&(c.speed=r),"Number"===n(i)&&(c.speed=i),"Object"===n(t)){var a=Object.keys(t)[0];t=document.querySelector(t[a])[c.html?"innerHTML":"textContent"].trim()}return c[e]=t,c}function a(){return b.item>=0||(b.item=0),b.item===b.length?document.body.removeEventListener("killTyper",b.kill):(b.ks||(b.ks=!0,document.body.addEventListener("killTyper",b.kill)),b.cursor||(b.cursor="cursor-soft"),void(b.type=setInterval(function(){var e=b[b.item];e.line?l(e):e["continue"]?s(e):e.pause?d(e):e.emit?v(e):e.listen?h(e):e.back?m(e):e.empty?f():e.run?p(e):e.end&&y(e)},0)))}function u(e){function r(n){var r=0;b.iterator=setInterval(function(){var e=s[r++];d.textContent=e,b.newDiv.innerHTML+=n?e:d.innerHTML,r===s.length&&u()},e.speed||t)}function i(){var n=c(d.childNodes,b.newDiv),r=0,i=0,o=n[r++];b.iterator=setInterval(function(){return o?void(o.content?(o.parent.innerHTML+=o.content[i++],i===o.content.length&&(i=0,o=n[r++])):(o.parent.appendChild(o.voidNode||o.newNode),o=n[r++])):u()},e.speed||t)}function o(){var r=0;b.iterator=setInterval(function(){if(r===s.length)return clearInterval(b.iterator),b.item++,a();var e=s[r];"String"!==n(s)&&(d.textContent=e,e=d.innerHTML),b.newDiv.innerHTML+=e,r++},e.speed||t)}function c(e,t){var n=[];e=Array.from(e);for(var r=0;r<e.length;r++){var i=e[r],o=i.nodeName;if("#text"===o)n.push({parent:t,content:i.textContent});else if(i.childNodes.length){var a=document.createElement(o);l(i,a),n.push({parent:t,newNode:a}),n=n.concat(c(i.childNodes,a))}else b.voids.includes(o)&&n.push({parent:t,voidNode:i})}return n}function u(){return clearInterval(b.iterator),b.item++,a()}function l(e,t){Array.from(e.attributes).forEach(function(e){t.setAttribute(e.name,e.value)})}var s=e.line||e["continue"],d=document.createElement("div");return Array.isArray(s)?r(e.html):(d.innerHTML=s,void(e.html?i():o()))}function l(t){clearInterval(b.type),b.newDiv&&(r(),b.newDiv.classList.add("white-space"),b.newDiv.innerHTML||(b.newDiv.innerHTML=" "));var n=document.createElement(t.elem||"div");return n.setAttribute("data-typer-child",b.dataNum),n.className=b.cursor,n.classList.add("typer"),n.classList.add("white-space"),e.appendChild(n),b.newDiv=n,1===t.line?(b.item++,a()):void u(t)}function s(e){clearInterval(b.type),u(e)}function d(e){clearInterval(b.type),b.pause=setTimeout(function(){b.item++,a()},e.pause)}function v(e){clearInterval(b.type),document.querySelector(e.el).dispatchEvent(new Event(e.emit)),b.item++,a()}function h(e){clearInterval(b.type);var t=document.querySelector(e.el);t.addEventListener(e.listen,function n(e){t.removeEventListener(e.type,n),b.killed||(b.item++,a())})}function m(e){function n(e){var t=[],r=Array.from(e.childNodes);return r.length?(r.forEach(function(e){e.childNodes.length?t=t.concat(n(e)):t.push(e)}),t):t}function r(e){Array.from(e.childNodes).forEach(function(e){b.voids.includes(e.nodeName)||(e.childNodes.length&&r(e),"#text"===e.nodeName||e.innerHTML.length||e.remove())})}function i(e){var t=0;return Array.from(e.childNodes).forEach(function(e){b.voids.includes(e.nodeName)&&t++,e.childNodes.length&&(t+=i(e))}),t}if(clearInterval(b.type),!b.newDiv||!b.newDiv.textContent)return b.item++,a();if("empty"===e.back)return b.newDiv.innerHTML="",b.item++,a();var o=i(b.newDiv);if(e.back>b.newDiv.textContent.length+o&&(e.back="all"),"all"===e.back&&(e.back=b.newDiv.textContent.length+o),e.back<0){var c=b.newDiv.textContent.length+o;e.back=c-e.back*-1}var u=0,l=n(b.newDiv).reverse();b.goBack=setInterval(function(){var t=l[0],n=b.voids.includes(t.nodeName);n?(t.remove(),l.shift()):t.textContent=t.textContent.slice(0,-1),u++,u===e.back&&(clearInterval(b.goBack),r(b.newDiv),b.item++,a())},e.speed||t)}function f(){b.newDiv="",e.innerHTML="",l({line:1})}function p(t){clearInterval(b.type),t.run(e),b.item++,a()}function y(){clearInterval(b.type),b.cb()}var b=[];if(b.voids=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"],b.classNames=["typer","cursor-block","cursor-soft","cursor-hard","no-cursor"],t=t||70,"String"!==n(e))throw"typer error: selector provided is not a string.";e=document.querySelector(e),i();var k={cursor:function N(e){if(b.cursorRan)return console.warn('You can only call ".cursor" once.'),this;if(b.cursorRan=!0,void 0===e&&(e=!0),e===!1)return b.cursor="no-cursor",this;var t=e,n=t.color,r=t.blink,i=t.block,N=[],c='[data-typer="'+b.dataNum+'"]';return n&&o(c+" .typer::after","background-color:"+n),N.push("cursor-"+("hard"===r?"hard":"soft")),i===!0&&N.push("cursor-block"),b.cursor=N.join(" "),this},line:function(e,t,r){var i=arguments[arguments.length-1],o=e!==i&&"String"===n(i)&&i;return o=b.voids.includes(o)&&o,b.push(e?c("line",e,t,r,o):{line:1}),b.typing||(b.typing=!0,a()),this},"continue":function(e,t,n){return e?(b.push(c("continue",e,t,n)),this):this},pause:function(e){return b.push({pause:e||500}),this},emit:function(e,t){return t||(t="body"),document.querySelector(t),b.push({emit:e,el:t}),this},listen:function(e,t){return t||(t="body"),document.querySelector(t),b.push({listen:e,el:t}),this},back:function(e,n){return n=n||1,b.push({back:e||1,speed:n||t}),this},empty:function(){return b.push({empty:!0}),this},run:function(e){return b.push({run:e}),this},end:function(t,i){function o(){return console.warn('WARNING: you tried to call a method after ".end" has already been called.'),c}b.push({end:!0}),b.cb=function(){b.style&&b.style.remove(),r(),b.newDiv.classList.add("white-space"),b.newDiv="",t&&t instanceof Function&&t(e),(t&&"Boolean"===n(t)||i)&&(i instanceof Function&&i(e),document.body.dispatchEvent(new Event("typerFinished")))};var c={cursor:o,line:o,"continue":o,pause:o,emit:o,listen:o,back:o,empty:o,run:o,end:o};return c}};return b.kill=function(e){if(document.body.removeEventListener(e.type,b.kill),b.killed=!0,clearInterval(b.iterator),clearInterval(b.goBack),clearTimeout(b.pause),b.item===b.length)return console.log("This typer has completed. Listeners removed.");var t=b[b.item];if(t&&t.listen){var n=document.querySelector(t.el);n.dispatchEvent(new Event(t.listen))}},k}
